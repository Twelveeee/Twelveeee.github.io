<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="十二的编程笔记" href="https://blog.twelveeee.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="十二的编程笔记" href="https://blog.twelveeee.top/atom.xml"><link rel="alternate" type="application/json" title="十二的编程笔记" href="https://blog.twelveeee.top/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="GO"><link rel="canonical" href="https://blog.twelveeee.top/2023/Go/go%20package/"><title>Go 包管理 - GO - 计算机科学 | Twelveeee = 十二的编程笔记 = hello world</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Go 包管理</h1><div class="meta"><span class="item" title="创建时间：2023-09-07 12:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-09-07T12:00:00+08:00">2023-09-07</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>6.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>6 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Twelveeee</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://twelveeee-note.oss-cn-beijing.aliyuncs.com/Image/img/bgimg_96.webp"></li><li class="item" data-background-image="https://twelveeee-note.oss-cn-beijing.aliyuncs.com/Image/img/bgimg_61.webp"></li><li class="item" data-background-image="https://twelveeee-note.oss-cn-beijing.aliyuncs.com/Image/img/bgimg_74.webp"></li><li class="item" data-background-image="https://twelveeee-note.oss-cn-beijing.aliyuncs.com/Image/img/bgimg_62.webp"></li><li class="item" data-background-image="https://twelveeee-note.oss-cn-beijing.aliyuncs.com/Image/img/bgimg_23.webp"></li><li class="item" data-background-image="https://twelveeee-note.oss-cn-beijing.aliyuncs.com/Image/img/bgimg_6.webp"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computerScience/" itemprop="item" rel="index" title="分类于 计算机科学"><span itemprop="name">计算机科学</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computerScience/GO/" itemprop="item" rel="index" title="分类于 GO"><span itemprop="name">GO</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.twelveeee.top/2023/Go/go%20package/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Twelveeee"><meta itemprop="description" content="hello world, 十二的编程笔记"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="十二的编程笔记"></span><div class="body md" itemprop="articleBody"><h1 id="包"><a class="anchor" href="#包">#</a> 包</h1><h2 id="基本信息"><a class="anchor" href="#基本信息">#</a> 基本信息</h2><p>包（package）由同一目录下的多个源文件构成。</p><p>含 <code>.go</code> 、 <code>.c</code> 、 <code>.s</code> 等文件。<br>在 <code>.go</code> 头部通过 package 定义所属包。</p><p>源文件必须是 <code>UTF-8</code> 格式。</p><p>包是成员作用域边界，包内成员可相互访问。<br>名称首字母大写为 <strong>导出成员</strong>（exported），可外部访问。</p><p>包名可与目录名不同，通常小写单数模式。同一目录下源文件必须使用相同包名。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> mylib                  <span class="token comment">// 包名通常与目录一致。</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">func</span> <span class="token function">ddd</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>       <span class="token comment">// 私有成员。</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">return</span> x <span class="token operator">+</span> y</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">func</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 <span class="token comment">// 导出成员，可外部访问。</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>另有几个特殊含义的包名：</p><p><code>main</code> : 用户可执行文件入口包。<br><code>all</code> : 所有包，包括标准库和依赖项。<br><code>std</code> : 标准库。<br><code>cmd</code> : 工具链。</p><p><code>documentation</code> : 文档。（工具链忽略，无法导入）</p><p>为命令行提供包名为参数时，有以下几种方式。</p><p>直接提供包名，如标准库。（ <code>go list math</code> ）<br>以。或 .. 开始的相对路径。（ <code>go build ./mylib</code> ）<br>用 ... 作为通配符，表示任意字符串。（ <code>go build ./...</code> ）</p><p>提示： <code>net/...</code> 表示 <code>net</code> 和其所有子包，但不包括 <code>vendor</code> 。<br>除非特别指定，如 <code>./vendor/...</code> ， <code>./mylib/vendor/...</code> 。</p><h3 id="访问权限"><a class="anchor" href="#访问权限">#</a> 访问权限</h3><p>同一包内不同源文件的成员可相互访问，但只有<strong>首字母大写</strong>为导出成员。<br>此规则适用于全局变量、全局常量、函数、类型、字段和方法等。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// test/mylib/add.go</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">package</span> mylib</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">return</span> x <span class="token operator">+</span> y</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// test/main.go</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">package</span> main</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token string">"test/mylib"</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	z <span class="token operator">:=</span> mylib<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// ~ undefined: mylib.add</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">println</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>某些时候，需临时访问私有成员，可参考如下手段。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// test/mylib/data.go</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">package</span> mylib</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">type</span> data <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    x   <span class="token builtin">int</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    y   <span class="token builtin">int</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">func</span> <span class="token function">NewData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>data <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token operator">&amp;</span>data<span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> main</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token string">"fmt"</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token string">"unsafe"</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token string">"test/mylib"</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	p <span class="token operator">:=</span> mylib<span class="token punctuation">.</span><span class="token function">NewData</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	</pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// p.x = 100 // ~ p.x undefined</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>	d <span class="token operator">:=</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">struct</span><span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token boolean">_</span> <span class="token builtin">int</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		y <span class="token builtin">int</span>              <span class="token comment">// 仅需要访问的字段</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>	d<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">100</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>d<span class="token punctuation">)</span>        <span class="token comment">// &#123;1, 100&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>还可用别名。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// test/mylib/data.go</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">package</span> mylib</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">type</span> data <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    x   <span class="token builtin">int</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    y   <span class="token builtin">int</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">func</span> <span class="token punctuation">(</span>d <span class="token operator">*</span>data<span class="token punctuation">)</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>x<span class="token punctuation">,</span> d<span class="token punctuation">.</span>y<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">type</span> DataTmp <span class="token operator">=</span> data</pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">func</span> <span class="token punctuation">(</span>d <span class="token operator">*</span>DataTmp<span class="token punctuation">)</span> <span class="token function">SetY</span><span class="token punctuation">(</span>y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	d<span class="token punctuation">.</span>y <span class="token operator">=</span> y</pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">func</span> <span class="token punctuation">(</span>d <span class="token operator">*</span>DataTmp<span class="token punctuation">)</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	d<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// test/main.go</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">package</span> main</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token string">"test/mylib"</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	d <span class="token operator">:=</span> mylib<span class="token punctuation">.</span>DataTmp<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	d<span class="token punctuation">.</span><span class="token function">SetY</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	d<span class="token punctuation">.</span><span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>临时提升访问权限，应避免直接修改原目标。<br>可将临时代码单独放在 <code>_tmp.go</code> 文件内，随后直接删除即可。</p><h3 id="初始化"><a class="anchor" href="#初始化">#</a> 初始化</h3><p>包内任意 <code>.go</code> 文件内都可定义一到多个 <code>init</code> 初始化函数。<br>初始化函数由编译器生成代码自动执行（仅执行一次），不能被其他代码调用。</p><p>所有初始化函数被编译器整合到一个特殊数据结构内。<br>在程序启动初始化阶段，在同一 <code>goroutine</code> 内依次执行。</p><p>包内全局变量按照依赖关系，逐步初始化（或零值）。<br>每个初始化函数只完成一组相关逻辑，且相互之间不应该有执行次序依赖。</p><p>自 <code>1.21</code> 起，包初始化次序有了正式规范，但依然不建议对其有所依赖。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> main</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">100</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>  <span class="token comment">// a 100</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token comment">// init() // ~ undefined: init    </span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>可使用 <code>GODEBUG</code> 查看初始化执行情况。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token assign-left variable">GODEBUG</span><span class="token operator">=</span>inittrace<span class="token operator">=</span><span class="token number">1</span> ./test</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>init internal/bytealg @0.008 ms, <span class="token number">0.008</span> ms clock, <span class="token number">0</span> bytes, <span class="token number">0</span> allocs</pre></td></tr><tr><td data-num="4"></td><td><pre>init runtime          @0.040 ms, <span class="token number">0.048</span> ms clock, <span class="token number">0</span> bytes, <span class="token number">0</span> allocs</pre></td></tr><tr><td data-num="5"></td><td><pre>init main             @0.31  ms, <span class="token number">0.014</span> ms clock, <span class="token number">0</span> bytes, <span class="token number">0</span> allocs</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#    包名             启动时刻     执行耗时         堆内存分配数量和次数。</span></pre></td></tr></table></figure><h3 id="内部包"><a class="anchor" href="#内部包">#</a> 内部包</h3><p>代码重构时，将一些内部模块陆续分离出来，以独立包形式维护。此时，首字母大小写访问控制就过于粗旷。因为我们希望其 <strong>导出成员</strong> 仅限特定范围内访问，而不是向所有用户公开。</p><p><strong>内部包</strong>（internal package）机制相当于增加了新访问权限控制：</p><p>内部包（含自身）只能被其父目录（含所有层次子目录）访问。<br>内部包私有成员，依然只能在自己包内访问。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre>test<span class="token operator">/</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token operator">|</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token operator">+</span><span class="token operator">--</span> main<span class="token punctuation">.</span><span class="token keyword">go</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token operator">|</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token operator">+</span><span class="token operator">--</span> mylib<span class="token operator">/</span>              # 内部包 internal、a、b 的导出成员仅能</pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token operator">|</span>                 # 被 mylib、mylib<span class="token operator">/</span>x、mylib<span class="token operator">/</span>x<span class="token operator">/</span>y 访问。</pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token operator">|</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token operator">+</span><span class="token operator">--</span> internal<span class="token operator">/</span>     # 内部包之间可相互访问。</pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token operator">|</span>      <span class="token operator">|</span>          # 可导入外部包。</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token operator">|</span>      <span class="token operator">+</span><span class="token operator">--</span> a<span class="token operator">/</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token operator">|</span>      <span class="token operator">|</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token operator">|</span>      <span class="token operator">+</span><span class="token operator">--</span> b<span class="token operator">/</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token operator">|</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token operator">+</span><span class="token operator">--</span> x<span class="token operator">/</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            <span class="token operator">|</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token operator">+</span><span class="token operator">--</span> y<span class="token operator">/</span></pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> main</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token string">"test/mylib"</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token string">"test/mylib/x"</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token string">"test/mylib/x/y"</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// "test/mylib/internal/a" // ~ use of internal package not allowed</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="导入"><a class="anchor" href="#导入">#</a> 导入</h3><p>使用包前，须用 import 导入包路径。</p><p>导入完整的模块路径（module path），非包名。<br>编译器依次搜索标准库、项目根目录，及缓存目录。<br>引用包成员，用包名（package），而非导入路径。</p><p>默认为 <code>module</code> 模式，不支持 <code>GOPATH</code> 和 <code>relative import</code> 等老旧内容。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token string">"net/http"</span>         <span class="token comment">// $GOROOT/src/net/http</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token string">"github.com/xxx"</span>   <span class="token comment">// $GOMODCACHE/github.com/xxx</span></pre></td></tr></table></figure><p>使用别名，解决同名冲突问题。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    osx  <span class="token string">"osx/lib"</span>     <span class="token comment">// 为包取别名，而非导入路径。</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    nix  <span class="token string">"linux/lib"</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">)</span></pre></td></tr></table></figure><p>不同导入方式，及其成员引用。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>       <span class="token string">"math"</span>     默认<span class="token punctuation">:</span> math<span class="token punctuation">.</span>Sin</pre></td></tr><tr><td data-num="3"></td><td><pre>    m  <span class="token string">"math"</span>     别名<span class="token punctuation">:</span> m<span class="token punctuation">.</span>Sin</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">.</span>  <span class="token string">"math"</span>     简便<span class="token punctuation">:</span> Sin</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token boolean">_</span>  <span class="token string">"math"</span>     初始化<span class="token punctuation">:</span> 无法引用，仅用来初始化目标包。</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">)</span></pre></td></tr></table></figure><p>简便：相当于 <code>from math import *</code> 。 （常用于单元测试中）<br>初始化：目的是让目标包的初始化函数得以执行，而非引用其成员。<br>不能直接或间接导入自己，不支持任何形式的循环导入。</p><p>未使用的导入（不包括初始化方式）被编译器视为错误。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> main</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token string">"fmt"</span> <span class="token comment">// ~ imported and not used: "fmt"</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="模块"><a class="anchor" href="#模块">#</a> 模块</h2><p>模块（module）是包（packages）和其依赖项（dependency）的集合。</p><p>直接体现是 <code>go.mod</code> 文件，存储了模块路径、编译器版本，以及依赖项列表。<br>如此，模块是依赖管理方式，是发布和版本控制单元。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre>module <span class="token operator">=</span> <span class="token keyword">go</span><span class="token punctuation">.</span>mod <span class="token operator">+</span> <span class="token keyword">package</span> <span class="token operator">+</span> subs<span class="token operator">...</span></pre></td></tr></table></figure><p>模块路径（module path）：在 <code>go.mod</code> 中声明的名称标识。<br>根目录（module root directory）：包含 <code>go.mod</code> 文件的目录。<br>主模块（main module）：执行 <code>go</code> 命令时，所在目录对应的模块。</p><h3 id="初始化-2"><a class="anchor" href="#初始化-2">#</a> 初始化</h3><p>模块对应一个包含 <code>go.mod</code> 的源码目录，所有不含 <code>go.mod</code> 的子目录都是其成员。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>test/</pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token operator">|</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    +-- go.mod        <span class="token punctuation">(</span>github.com/twelveeee/test<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token operator">|</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    +-- main.go</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">|</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    +-- mylib/        <span class="token punctuation">(</span>github.com/twelveeee/test/mylib<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>          <span class="token operator">|</span></pre></td></tr><tr><td data-num="9"></td><td><pre>          +-- add.go</pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token builtin class-name">cd</span> <span class="token builtin class-name">test</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>$ go mod init github.com/twelveeee/test</pre></td></tr><tr><td data-num="4"></td><td><pre>go: creating new go.mod: module github.com/twelveeee/test</pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token builtin class-name">cd</span> test/mylib</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>$ go list <span class="token parameter variable">-m</span>                     <span class="token comment"># 向外查找 go.mod，主模块。</span></pre></td></tr><tr><td data-num="4"></td><td><pre>github.com/twelveeee/test</pre></td></tr></table></figure><p>模块路径描述了线上存储位置，通过 go get 下载到本地缓存目录。<br>以 import 导入模块时，使用模块路径而非本地路径。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// go.mod</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>module github<span class="token punctuation">.</span>com<span class="token operator">/</span>twelveeee<span class="token operator">/</span>test    <span class="token comment">// 模块路径</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">go</span> <span class="token number">1.18</span>                          <span class="token comment">// 编译器最低版本号</span></pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// main.go</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">package</span> main</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">// "test/mylib" // ~ package test/mylib is not in GOROOT</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    </pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token string">"github.com/twelveeee/test/mylib"</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">println</span><span class="token punctuation">(</span>mylib<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>如果子目录包含 go.mod，那么它将是独立模块，不再属于当前模块。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre>$ cd test<span class="token operator">/</span>mylib</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>$ <span class="token keyword">go</span> mod init github<span class="token punctuation">.</span>com<span class="token operator">/</span>twelveeee<span class="token operator">/</span>mylib</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">go</span><span class="token punctuation">:</span> creating <span class="token builtin">new</span> <span class="token keyword">go</span><span class="token punctuation">.</span>mod<span class="token punctuation">:</span> module github<span class="token punctuation">.</span>com<span class="token operator">/</span>twelveeee<span class="token operator">/</span>mylib</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>$ cd <span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>$ <span class="token keyword">go</span> build</pre></td></tr><tr><td data-num="9"></td><td><pre>no required module provides <span class="token keyword">package</span> github<span class="token punctuation">.</span>com<span class="token operator">/</span>twelveeee<span class="token operator">/</span>test<span class="token operator">/</span>mylib<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="10"></td><td><pre>to add it<span class="token punctuation">:</span> <span class="token keyword">go</span> get github<span class="token punctuation">.</span>com<span class="token operator">/</span>twelveeee<span class="token operator">/</span>test<span class="token operator">/</span>mylib</pre></td></tr></table></figure><h3 id="依赖管理"><a class="anchor" href="#依赖管理">#</a> 依赖管理</h3><p>命令 <code>go get</code> 添加、下载（更新）依赖项，其他操作可用 <code>go mod</code> 完成。</p><p>从 <code>GOPROXY</code> 下载源码到本地缓存 <code>GOMODCACHE</code> 目录。<br>向 <code>go.mod</code> 、 <code>go.sum</code> 添加依赖项和验证信息。<br>使用 <code>go clean -modcache</code> 清除缓存。（自动重新下载）</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ go get <span class="token builtin class-name">.</span>                        <span class="token comment"># 分析源码，添加所有依赖。</span></pre></td></tr><tr><td data-num="2"></td><td><pre>$ go get example.com/my           <span class="token comment"># 指定模块，下载最新版本。</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>$ go get example.com/my@v1.3.4    <span class="token comment"># 指定版本号。</span></pre></td></tr><tr><td data-num="5"></td><td><pre>$ go get example.com/my@lastet    <span class="token comment"># 最新版本。</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>$ go get example.com/my@4cf76c2   <span class="token comment"># 伪版本号（commit hash）</span></pre></td></tr><tr><td data-num="8"></td><td><pre>$ go get example.com/my@bufix     <span class="token comment"># 分支（branch）</span></pre></td></tr></table></figure><p>用 go mod 管理模块。</p><p><code>init</code> : 初始化模块，创建 <code>go.mod</code> 文件。<br><code>tidy</code> : 添加遗漏，移除不需要的依赖项。</p><p><code>edit</code> : 命令行方式编辑模块设置。<br><code>-fmt</code> ：格式化 <code>go.mod</code> 文件。<br><code>-module</code> ：模块路径。<br><code>-go</code> ：编译器版本。<br><code>-require</code> , <code>-droprequire</code> ：添加直接或间接依赖项。<br><code>-replace</code> , <code>-dropreplace</code> ：替换模块路径或版本。<br><code>-exclude</code> , <code>-dropexclude</code> ：排除模块或版本。<br><code>-retract</code> , <code>-dropretract</code> ：标识有问题需要忽略的版本。</p><h3 id="版本标识"><a class="anchor" href="#版本标识">#</a> 版本标识</h3><p>版本标识模块不可变快照。</p><p>以 <code>v</code> 开头，然后是语义版本（semantic version）。</p><p>不兼容（incompatible）更新，递增主要版本号。<br>添加功能的兼容更新，递增次要版本号。<br>优化和修复缺陷，不影响导出接口，递增补丁版本号。<br>正式发布前的预发行版本，添加 <code>-pre</code> 后缀。</p><p>使用 <code>git tag</code> 之类的功能标记语义化版本号。<br>如没有标记，则使用提交（commit）信息（time, ident）构成伪版本号。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">v</span><span class="token punctuation">(</span>major<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span>minor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span>patch<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>pre<span class="token operator">|</span>beta<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>  主要     次要     补丁    预发行或测试版</pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre>v1<span class="token punctuation">.</span><span class="token number">2.3</span></pre></td></tr><tr><td data-num="2"></td><td><pre>v1<span class="token punctuation">.</span><span class="token number">2.3</span><span class="token operator">-</span>pre</pre></td></tr><tr><td data-num="3"></td><td><pre>v1<span class="token punctuation">.</span><span class="token number">5.0</span><span class="token operator">-</span>beta</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>v0<span class="token punctuation">.</span><span class="token number">0.0</span><span class="token operator">-</span><span class="token number">20191109021931</span><span class="token operator">-</span>daa7c04131f5 <span class="token operator">--</span><span class="token operator">></span> <span class="token keyword">go</span> get example<span class="token punctuation">.</span>com<span class="token operator">/</span>my@daa7c041</pre></td></tr></table></figure><p>查看所有版本。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ go list <span class="token parameter variable">-m</span> <span class="token parameter variable">-versions</span> github.com/shirou/gopsutil</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>v2.0.0+incompatible </pre></td></tr><tr><td data-num="4"></td><td><pre>v2.16.10+incompatible </pre></td></tr><tr><td data-num="5"></td><td><pre>v2.16.11+incompatible <span class="token punctuation">..</span>.</pre></td></tr><tr><td data-num="6"></td><td><pre>v2.21.11+incompatible </pre></td></tr><tr><td data-num="7"></td><td><pre>v3.20.10+incompatible <span class="token punctuation">..</span>. </pre></td></tr><tr><td data-num="8"></td><td><pre>v3.21.11+incompatible</pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ go list <span class="token parameter variable">-m</span> <span class="token parameter variable">-versions</span> all</pre></td></tr></table></figure><p>更新依赖项。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ go get <span class="token parameter variable">-u</span> example.com/my@v1.3          <span class="token comment"># minor or patch releases</span></pre></td></tr><tr><td data-num="2"></td><td><pre>$ go get <span class="token parameter variable">-u</span><span class="token operator">=</span>patch example.com/my@v1.3.4  <span class="token comment"># patch release</span></pre></td></tr></table></figure><p>可使用 <code>&gt;</code> 、 <code>&gt;=</code> 、 <code>&lt;</code> 、 <code>&lt;=</code> 操作符指定版本查询范围（module query）。</p><p>选择最接近条件的版本。例如： <code>&gt;=1.0</code> 选择 <code>1.0</code> ， <code>&lt;1.0</code> 选择 <code>0.9</code> ，而不是 <code>0.8</code> 。<br>注意，命令行添加引号，否则显示版本错误。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ go get <span class="token string">"github.com/shirou/gopsutil@>v2.16.10"</span></pre></td></tr></table></figure><p><strong>兼容性规则</strong></p><p>如新版和旧版有相同导入路径，则必须保证向后兼容（backwards compatible）。<br>主版本号出现在模块路径尾部，表示重大不兼容更新。</p><p><code>mod/v2</code> 和 <code>mod/v1</code> 不兼容。<br><code>v0</code> 和 <code>v1</code> 不需要使用版本后缀。<br><code>v0</code> 本身就表示不稳定且不具有兼容性保证， <code>v1</code> 为默认版本。<br>另外，有预发行后缀也表示该版本不稳定，不受兼容性约束。</p><p>导入语句（import）须使用包含版本号（ <code>v2</code> ）的全路径。<br>通常建议在原模块下建立 <code>/v2/go.mod</code> 模块（子目录）。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> github<span class="token punctuation">.</span>com<span class="token operator">/</span>twelveeee<span class="token operator">/</span>test<span class="token operator">/</span>v2</pre></td></tr></table></figure><h3 id="工作空间"><a class="anchor" href="#工作空间">#</a> 工作空间</h3><p>以工作空间（workspace）解决多模块开发遇到的问题。</p><p>编译时，找不到未发布模块（非子包）。<br>只能以 <code>replace</code> 将模块路径替换为本地路径。<br>污染的 <code>go.mod</code> 意外提交到代码仓库。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>app/                  <span class="token punctuation">(</span>workspace<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token operator">|</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    +-- go.work</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token operator">|</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    +-- test/            <span class="token punctuation">(</span>github.com/twelveeee/test<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">|</span>    <span class="token operator">|</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token operator">|</span>    +-- go.mod</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token operator">|</span>    <span class="token operator">|</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token operator">|</span>    +-- main.go</pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token operator">|</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    +-- mylib/           <span class="token punctuation">(</span>github.com/twelveeee/mylib<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>         <span class="token operator">|</span></pre></td></tr><tr><td data-num="13"></td><td><pre>         +-- go.mod</pre></td></tr><tr><td data-num="14"></td><td><pre>         <span class="token operator">|</span></pre></td></tr><tr><td data-num="15"></td><td><pre>         +-- add.go</pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ go work init                   <span class="token comment"># 初始化工作空间。</span></pre></td></tr><tr><td data-num="2"></td><td><pre>$ go work use ./test ./mylib     <span class="token comment"># 添加模块。</span></pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// go.work</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">go</span> <span class="token number">1.18</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>use <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">.</span><span class="token operator">/</span>mylib</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">.</span><span class="token operator">/</span>test</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">)</span></pre></td></tr></table></figure><p>导入（import）工作空间内其他模块，无需 require 指令。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// mylib/go.mod</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>module github<span class="token punctuation">.</span>com<span class="token operator">/</span>qyuhen<span class="token operator">/</span>mylib</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">go</span> <span class="token number">1.18</span></pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// test/go.mod</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>module github<span class="token punctuation">.</span>com<span class="token operator">/</span>qyuhen<span class="token operator">/</span>test</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">go</span> <span class="token number">1.18</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">//require github.com/qyuhen/mylib v0.0.1   // 不需要</span></pre></td></tr></table></figure><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// test/main.go</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">package</span> main</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token string">"github.com/qyuhen/mylib"</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">println</span><span class="token punctuation">(</span>mylib<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>若必须添加 require，编译时可关闭 GOPROXY，阻止在线获取模块验证信息。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">GOPROXY</span><span class="token operator">=</span>off go build</pre></td></tr></table></figure><p>模块还可放在空间目录外，或加入多个工作空间。</p><figure class="highlight go"><figcaption data-lang="go"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// go.work</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">go</span> <span class="token number">1.18</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>use <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>mylib</pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token punctuation">.</span><span class="token operator">/</span>test</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="环境变量"><a class="anchor" href="#环境变量">#</a> 环境变量</h3><p>模块感知（module-aware）模式，相关环境变量说明。</p><p><code>GO111MODULE</code> ：模块感知模式开关。（默认：on）<br><code>GOMODCACHE</code> ：模块缓存路径。<br><code>GOPROXY</code> ：模块代理服务列表。<br><code>GOSUMDB</code> ：模块数据安全校验数据库。<br><code>GOPRIVATE</code> ：私有模块路径，绕过 GOPROXY 直接获取。</p><p><code>GOPRIVATE=*.example.com</code> ，以逗号分隔多个地址。<br><code>GOPRIVATE</code> 是 <code>GONOPROXY</code> 、 <code>GONOSUMDB</code> 的默认值。</p><h3 id="离线编译"><a class="anchor" href="#离线编译">#</a> 离线编译</h3><p>打包含依赖在内的所有源码，进行离线编译。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ go mod vendor                    <span class="token comment"># 将依赖复制到 ./vendor 目录下。</span></pre></td></tr><tr><td data-num="2"></td><td><pre>$ <span class="token assign-left variable">GOWORK</span><span class="token operator">=</span>off go build <span class="token parameter variable">-mod</span> vendor  <span class="token comment"># 禁用工作空间，以 vendor 方式编译。</span></pre></td></tr></table></figure><div class="tags"><a href="/tags/GO/" rel="tag"><i class="ic i-tag"></i> GO</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2025-08-25 20:09:56" itemprop="dateModified" datetime="2025-08-25T20:09:56+08:00">2025-08-25</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Twelveeee <i class="ic i-at"><em>@</em></i>十二的编程笔记</li><li class="link"><strong>本文链接：</strong> <a href="https://blog.twelveeee.top/2023/Go/go%20package/" title="Go 包管理">https://blog.twelveeee.top/2023/Go/go package/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/Go/go%20concurrency/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;twelveeee-note.oss-cn-beijing.aliyuncs.com&#x2F;Image&#x2F;img&#x2F;bgimg_77.webp" title="Go 并发"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> GO</span><h3>Go 并发</h3></a></div><div class="item right"><a href="/2023/Go/go%20test/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;twelveeee-note.oss-cn-beijing.aliyuncs.com&#x2F;Image&#x2F;img&#x2F;bgimg_96.webp" title="Go 测试"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> GO</span><h3>Go 测试</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8C%85"><span class="toc-number">1.</span> <span class="toc-text">包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.</span> <span class="toc-text">基本信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-number">1.1.1.</span> <span class="toc-text">访问权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.1.2.</span> <span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E5%8C%85"><span class="toc-number">1.1.3.</span> <span class="toc-text">内部包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5"><span class="toc-number">1.1.4.</span> <span class="toc-text">导入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.</span> <span class="toc-text">模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96-2"><span class="toc-number">1.2.1.</span> <span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="toc-number">1.2.2.</span> <span class="toc-text">依赖管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E6%A0%87%E8%AF%86"><span class="toc-number">1.2.3.</span> <span class="toc-text">版本标识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4"><span class="toc-number">1.2.4.</span> <span class="toc-text">工作空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.5.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E7%BC%96%E8%AF%91"><span class="toc-number">1.2.6.</span> <span class="toc-text">离线编译</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2023/Go/go%20statement/" rel="bookmark" title="Go 语句">Go 语句</a></li><li><a href="/2023/Go/go%20type/" rel="bookmark" title="Go 类型">Go 类型</a></li><li><a href="/2023/Go/go%20function/" rel="bookmark" title="Go 函数">Go 函数</a></li><li><a href="/2023/Go/go%20built-in%20data%20types/" rel="bookmark" title="Go 内置数据类型">Go 内置数据类型</a></li><li><a href="/2023/Go/go%20method/" rel="bookmark" title="Go 方法">Go 方法</a></li><li><a href="/2023/Go/go%20interface/" rel="bookmark" title="Go 接口">Go 接口</a></li><li><a href="/2023/Go/go%20generic/" rel="bookmark" title="Go 泛型">Go 泛型</a></li><li><a href="/2023/Go/go%20concurrency/" rel="bookmark" title="Go 并发">Go 并发</a></li><li class="active"><a href="/2023/Go/go%20package/" rel="bookmark" title="Go 包管理">Go 包管理</a></li><li><a href="/2023/Go/go%20test/" rel="bookmark" title="Go 测试">Go 测试</a></li><li><a href="/2023/Go/Lib/zerolog/" rel="bookmark" title="Go zerolog 使用">Go zerolog 使用</a></li><li><a href="/2023/Go/go%20goroutine%20quicksort/" rel="bookmark" title="Go 协程实现快排">Go 协程实现快排</a></li><li><a href="/2023/Go/go%20GMP%20intro/" rel="bookmark" title="goroutine 调度器">goroutine 调度器</a></li><li><a href="/2023/Go/go%20GC%20v1/" rel="bookmark" title="Go 三色标记GC详解">Go 三色标记GC详解</a></li><li><a href="/2023/Go/go%20escape%20analysis/" rel="bookmark" title="Go 逃逸分析">Go 逃逸分析</a></li><li><a href="/2023/Go/Lib/io/" rel="bookmark" title="Go 标准库源码解析-IO操作">Go 标准库源码解析-IO操作</a></li><li><a href="/2023/Go/Lib/strings/" rel="bookmark" title="Go 标准库源码解析-文本操作">Go 标准库源码解析-文本操作</a></li><li><a href="/2023/Go/Lib/sort_and_container/" rel="bookmark" title="Go 标准库源码解析-sort和container">Go 标准库源码解析-sort和container</a></li><li><a href="/2023/Go/go_goroutine_quicksort_v2/" rel="bookmark" title="Go 协程实现快排 V2">Go 协程实现快排 V2</a></li><li><a href="/2023/Go/Lib/urfave_cli/" rel="bookmark" title="Go urfave cli 使用">Go urfave cli 使用</a></li><li><a href="/2023/Go/Lib/time/" rel="bookmark" title="Go 标准库源码解析-Time">Go 标准库源码解析-Time</a></li><li><a href="/2025/Go/go_version_control/" rel="bookmark" title="golang 多版本环境控制">golang 多版本环境控制</a></li><li><a href="/2025/Go/Lib/context/" rel="bookmark" title="golang 标准库源码解析 - Context">golang 标准库源码解析 - Context</a></li><li><a href="/2025/Go/Lib/channel/" rel="bookmark" title="golang 标准库源码解析 - channel">golang 标准库源码解析 - channel</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Twelveeee" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Twelveeee</p><div class="description" itemprop="description">十二的编程笔记</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">120</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">31</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">26</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R3ZWx2ZWVlZQ==" title="https:&#x2F;&#x2F;github.com&#x2F;twelveeee"><i class="ic i-github"></i></span> <span class="exturl item email" data-url="bWFpbHRvOnR3ZWx2ZWVlZTEyQGdtYWlsLmNvbQ==" title="mailto:twelveeee12@gmail.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly93d3cudHJhdmVsbGluZ3MuY24vZ28uaHRtbA=="><i class="ic i-paper-plane"></i>开往</span></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/Go/go%20concurrency/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/Go/go%20test/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/GO/" title="分类于 GO">GO</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/GO/Lib/" title="分类于 Lib">Lib</a></div><span><a href="/2023/Go/Lib/zerolog/" title="Go zerolog 使用">Go zerolog 使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/algorithm2023/" title="分类于 算法训练 2023">算法训练 2023</a></div><span><a href="/2023/AlgorithmCamp2023/06_binaryTree/" title="06&amp;07-二叉树遍历">06&07-二叉树遍历</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/Project/" title="分类于 Project">Project</a></div><span><a href="/2025/Project/cloudflare-connect-dodge-a-bullet/" title="cloudflare connect 踩坑记录">cloudflare connect 踩坑记录</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/dataStructure/" title="分类于 数据结构">数据结构</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/dataStructure/%E6%A0%91/" title="分类于 树">树</a></div><span><a href="/2020/DataStructure/Tree/binary%20tree/" title="二叉树">二叉树</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/dataStructure/" title="分类于 数据结构">数据结构</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/dataStructure/%E6%8E%92%E5%BA%8F/" title="分类于 排序">排序</a></div><span><a href="/2020/DataStructure/Sort/comparison%20of%20sorting%20methods/" title="排序方法的综合比较">排序方法的综合比较</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/algorithm2023/" title="分类于 算法训练 2023">算法训练 2023</a></div><span><a href="/2023/AlgorithmCamp2023/02_linkList_reverse/" title="02-链表翻转">02-链表翻转</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/algorithm2023/" title="分类于 算法训练 2023">算法训练 2023</a></div><span><a href="/2023/AlgorithmCamp2023/05_queue/" title="05-队列和哈希">05-队列和哈希</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/dataStructure/" title="分类于 数据结构">数据结构</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/dataStructure/%E7%BA%BF%E6%80%A7%E8%A1%A8/" title="分类于 线性表">线性表</a></div><span><a href="/2020/DataStructure/List/doubly%20linked%20list/" title="循环链表">循环链表</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/algorithm2023/" title="分类于 算法训练 2023">算法训练 2023</a></div><span><a href="/2023/AlgorithmCamp2023/04_stack/" title="04-栈">04-栈</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computerScience/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/GO/" title="分类于 GO">GO</a> <i class="ic i-angle-right"></i> <a href="/categories/computerScience/GO/Lib/" title="分类于 Lib">Lib</a></div><span><a href="/2023/Go/Lib/strings/" title="Go 标准库源码解析-文本操作">Go 标准库源码解析-文本操作</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Twelveeee @ Twelveeee</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">617k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">9:20</span></div><div class="beian-by"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">闽ICP备20004781号</a></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/Go/go package/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default,fetch"></script><script src="//fastly.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?30195a9a0f4d22cd45e9d770a10c683f";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-F27X623LWT"></script><script data-pjax>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-F27X623LWT")</script>--></body></html>